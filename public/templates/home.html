<barranav></barranav>

<style>
    .thumb {
        width: 24px;
        height: 24px;
        float: none;
        position: relative;
        top: 7px;
    }
    form .progress {
        line-height: 15px;
    }





    .progress {
        display: inline-block;
        width: 100px;
        border: 3px groove #CCC;
    }
    .progress div {
        font-size: smaller;
        background: orange;
        width: 0;
    }
    .content
    {
        position: absolute;
        top: 5.5vh;
        left: 22%;
        width: 56%;
    }
    .boxpubli
    {
        margin-bottom: 2vh;
    }
    .imgpublica
    {
        width: 100%;
        height: auto;

    }
    .tittlepli
    {
        font-family: Arial;
        font-size: 1.5vw;
        color: red;
        margin: 0;
    }
    .boxiconremove
    {
        position: absolute;
        right: 1%;
    }
    .imgtx
    {
        width: 2vh;
        height: auto;
    }

    div.transbox
    {
        position: absolute;
        background-color: rgba(0, 0, 0, 0.7);
        height: 8vh;
        bottom: 0;
        width: 100%;
    }
    div.transbox p
    {
        font-family: Arial;
        font-size: 1vw;
        font-weight: bold;
        color: white;
    }
    .description
    {
        margin: 0;
        width: 80%;
        margin-left: 10%;
        text-align: center;
        padding-top: 1.5vh;
    }
    .boxdescrip
    {
        position: relative;
    }
    .contenedorpubli
    {
        position: relative;
        border: solid red;
        margin-bottom: 5vh;
    }
    .imguser
    {
        position: relative;
        border: solid forestgreen;
        background: forestgreen;
        border-radius: 1vh;
        width: 8vw;
        height: 15vh;
        left: 1vw;
        top: 1vh;
    }
    .tittlebox
    {
        position: absolute;
        top: 1%;
        left: 20%;
        width: 40vw;
    }
    .descriptionbox
    {
        position: absolute;
        top: 25%;
        left: 20%;
        width: 40vw;
    }
    .container
    {
        position: absolute;
        left: 30vw;
        top: 15vh;
        width: 2vw;
        height: 4vh;
    }
    .select-wrapper {
        background: url(img/iconoadju.png) no-repeat;
        background-size:contain;
        display: block;
        position: relative;
        width: 4vw;
        height: 3vh;
    }
    #image_src {
        width: 26px;
        height: 26px;
        margin-right: 100px;
        opacity: 0;
        filter: alpha(opacity=0); /* IE 5-7 */
    }

    .lineh
    {
        position: absolute;
    }
    .btnpubli
    {
        position: absolute;
        top: 14vh;
        left: 46vw;
    }

</style>

<div class="content">

    <md-input-container>
        <label>Filtrar</label>
        <input type="text" ng-model="search" required md-maxlength="10">
    </md-input-container>

    <!--Formulario para publicacion-->

    <div class="contenedorpubli">

        <!--Imagen user-->
        <div class="imguser">
            <svg version="1.1"
                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    x="0px" y="0px"  enable-background="new 0 0 84.2 107.6"
                    xml:space="preserve">
                    <path class="photo" d="M31.8,82.5c-2.6,2.7-4.1,6.3-4.1,10.3c0,8.2,6.7,14.9,14.9,14.9s14.9-6.7,14.9-14.9c0-4-1.6-7.6-4.1-10.3
                    h31.1V49.7V32.8V0L50.1,0l-16,0L0,0l0,33l0,16.5l0,33H31.8z"/>
                    <g>
                    <path fill="#39A736" d="M53.2,82.5c2.6,2.7,4.1,6.3,4.1,10.3c0,8.2-6.7,14.9-14.9,14.9h41.8V82.5H53.2z"/>
                    <path fill="#39A736" d="M27.6,92.8c0-4,1.6-7.6,4.1-10.3H0v25.1h42.5C34.3,107.6,27.6,101,27.6,92.8z"/>
                    </g>
            </svg>
        </div>


        <form  enctype="multipart/form-data" name="myForm" ng-submit="uploadPic(picFile)">

            <!--titulo del formulario para publicar-->
            <div class="tittlebox">
                <md-input-container style="width: 100%">
                    <label>Título</label>
                    <input type="text" ng-model="title" required md-maxlength="25">
                </md-input-container>
            </div>

            <!--Descripcion del formulario para publicar-->
            <div class="descriptionbox">
                <md-input-container style="width: 100%">
                    <label>Descripción</label>
                    <input type="text" ng-model="link" required md-maxlength="100">
                </md-input-container>
            </div>

            <!--adjuntar archivos para publicar-->

            <div class="container">
                <span class="select-wrapper">
                    <input type="file" ngf-select ng-model="picFile" id="image_src" ngf-multiple="false" name="file" accept="image/" ngf-max-size="200MB" required/>
                </span>
            </div>

            <div class="lineh"></div>

            <br>

            <i ng-show="myForm.file.$error.maxSize">File too large {{picFile.size / 1000000|number:1}}MB: max {{picFile.$errorParam}}</i>

            <img ng-show="myForm.file.$valid" ngf-src="!picFile.$error && picFile" class="thumb">

            <br>

            <span class="progress" ng-show="true">
              <div style="width:{{picFile.progress}}%" ng-bind="picFile.progress + '%'" class="ng-binding"></div>
            </span>

            <span ng-show="picFile.result">Upload Successful</span>


            <div class="btnpubli">
                <md-button type="submit"  class="md-raised"> Publicar </md-button>
            </div>


        </form>

    </div>

    <div ng-hide="isLoggedIn()">
        <h3>Necesitas   <a href="/#/login">Iniciar Sesion</a> o <a href="/#/register">Registrarte</a> Antes de poder publicar</h3>
    </div>


    <!--Publicación-->
    <div>


        <div ng-repeat="post in posts | orderBy: '-upvotes' | filter:search">

            <div class="boxpubli">

                <p class="tittlepli">{{post.title}}
                    <span class="boxiconremove"><a ng-click="remove(post)"><img class="imgtx" src="/img/iconox.png"></a></span>
                </p>

                <div class="boxdescrip">
                    <img class="imgpublica" src="{{post.file}}">
                    <!--<a ng-click="remove(post)">Remove</a>-->
                    <div class="transbox">
                        <p class="description">{{post.link}}</p>
                    </div>
                </div>


                posted by <a>{{post.author}}</a> |



                {{post.comments}}

            </div>

        </div>






    </div>
</div>
<div style="position: absolute; height:50vh; width: 22%; top: 5.5vh; left: 0"></div>
<div style="position: absolute; height:50vh; width: 22%; top: 5.5vh; left: 78%"></div>
