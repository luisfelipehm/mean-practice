<barranav></barranav>

<style>
    .thumb {
        width: 24px;
        height: 24px;
        float: none;
        position: relative;
        top: 7px;
    }

    form .progress {
        line-height: 15px;
    }

    .progress {
        display: inline-block;
        width: 100px;
        border: 3px groove #CCC;
    }

    .progress div {
        font-size: smaller;
        background: orange;
        width: 0;
    }

    .enlinea
    {
        display: inline-block;
    }

    .tab1{ width: 15%;height: 40px;border: .1vw solid #ababab;vertical-align: top;border-left: 0;border-top: 0}
    .tab2{ width: 60%;height: 40px;border: .1vw solid #ababab;vertical-align: top;border-left: 0;border-top: 0;margin-left:-10px;}
    .tab3{ width: 15%;height: 40px;border: .1vw solid #ababab;vertical-align: top;border-left: 0;border-top: 0;margin-left:-10px;}
    .tab4{ width: 10%;height: 40px;border: .1vw solid #ababab;vertical-align: top;border-right: 0;border-top: 0;border-left: 0;margin-left:-10px;}
    .last > .tab1{border-bottom: 0}
    .last > .tab2{border-bottom: 0}
    .last > .tab3{border-bottom: 0}
    .last > .tab4{border-bottom: 0}

    .conthead
    {
        width: 100%;
        max-height:5vh;
        vertical-align:top;


    }

    #tab11{border-left: 0;border-top: 0}
    #tab22{border-top: 0;border-left: 0;text-align: center;font-weight: bold;font-family: Arial;font-size: 1vw;
        }
    #tab33{border-top: 0;border-left: 0;text-align: center;font-weight: bold;font-family: Arial;font-size: 1vw;}
    #tab44{border-top: 0;border-right: 0}

    .mi
    {
        margin-left: .5vw;
        font-family: Arial;
        font-size: 15px;
    }
    .iconodocument
    {
        margin-left: 35%;
    }
    .boxnewdocument
    {
        margin-top: 3vh;
        width: 100%;
        height: auto;
        left: 48%;
    }
    .contac
    {
        position: relative;
        margin-top: 1vh;
    }

    /*icono adjuntar*/
    .container
    {
        width: 2vw;
        height: 4vh;
    }
    .select-wrapper
    {
        background: url(img/adjunto_rojo.png) no-repeat;
        /*background: url(img/iconoadju.png) no-repeat;*/
        background-size:contain;
        display: block;
        position: relative;
        width: 1.5vw;
        height: 3vh;
        left: 45vw;
        top: 3.8vh;
        overflow: hidden;
    }
    #image_src
    {
        width: 26px;
        height: 26px;
        margin-right: 100px;
        opacity: 0;
        filter: alpha(opacity=0); /* IE 5-7 */
    }
    .btnpubli
    {
        width: 5vw;
        height: 3vh;
        border-radius: .2vw;
        box-sizing: border-box;
        transition:all 1s cubic-bezier(.25,.8,.25,1) ;
        background-color: white;
        cursor: pointer;
        text-align: center;
        font-size: 1vw;
        margin-bottom: 1vh;
        margin-left: 47.5vw;
    }
    .btnpubli:hover
    {
        background-color: #E30613;
    }
    button
    {
        color: grey;
        background-color: transparent;
        -webkit-appearance: none;
        padding: 0;
    }
    #blanco:hover
    {
        color: white;
    }
    ul > li
    {
        font-size: .8vw;
    }
    .formudoc
    {
        width: 15vw;
        width: auto;
        display: none;

    }
    .formucar
    {
        position:relative;
        width: auto;
        display: none;
    }
    .botonuno
    {
        width: 9vw;
        margin-left: 0%;
    }
    .botondos
    {
        margin-left: 2%;
        width: 9vw;
        left: 16vw;
    }
    .prueba
    {
        display: inline-block;
        width: 52%;
        margin-left: 5%;

    }
    .pr1
    {
        display: inline-block;
        width: 20%;
    }
    .pr2
    {
        display: inline-block;
        width: 20%;
    }
    .carpetasdoc{
        height: 60%;
        margin-top: 8%;
        margin-left: 40%;
    }
    .imageniconosdoc{
        height: 90%;
        margin-top: 1%;
        margin-left: 38%;
    }
    .textoprueba{
        font-weight: bold;
        font-size: 1.5vw;
        color: #E30613;
    }
    .nombrecarpeta{
        font-size: 1vw;
        margin-left: 5%;
        width: 90%;
    }
    .txtarchivo{
        margin-left: 3vw;
        font-size: 1vw;
        font-weight: bold;
    }
    .documentosmovil{
        display: none;
    }
    .documentospc{
        display: none;
    }
    @media (max-width: 900px){
        .mi{
            font-size: 23px;
            margin-left: 19px;
            margin-top: 20px !important;
        }
        .tab2{
            border: none;
            width: 90% !important;
        }
        #tab222{
            font-size: 20px;
            margin-top: -27px;
            margin-left: 14px;
        }
        .tab2{
            width: 50%;
            height: 58px;
        }
        #tab33{
            font-size: 5vw;
        }
        .tab3{
            width: 30%;
            height: 8.7vh;
        }
        .tab4{
            margin-left: 0;
            width: 7%;
            margin-top: 1.3%;
        }
        .carpetasdoc{
            height: 56%;
            margin-top: 53%;
            margin-left: 26%;
        }
        .imageniconosdoc{
            height: 70%;
            margin-top: 12%;
            margin-left: 21%;
        }
        .textoprueba{
            font-size: 20px;
        }
        .botonuno{
            width: 105px;
            margin-left: -61px;
        }
        .botondos{
            margin-left: -30px;
            width: 94px;
        }
        .nombrecarpeta{
            font-size: 6vw;
            margin-left: 5%;
            width: 90%;
        }
        .btnpubli{
            width: 39vw;
            height: 3vh;
            margin-left: 56.5vw;
            font-size: 5vw;
        }
        #blanco{
            width: 19vw !important;
        }
        .select-wrapper{
            width: 6.5vw;
            height: 29vh;
            left: 46vw;
        }
        .txtarchivo{
            font-size: 5vw;
        }
        .tab1{
         border: none;
        }
        .documentosmovil{
            display: block;
            padding-bottom: 9vh;
        }
        .documentospc{
            display: none;
        }
        #tab111{border-left: 0;border-top: 0}
        #tab222{border-top: 0;border-left: 0;text-align: center;font-weight: bold;font-family: Arial;
        }
        .imageniconosdoc{
            margin-top: 47% !important;
        }
        .nombrecarpeta label{
            padding-bottom: 8px;
        }
    }

</style>

    <br>

    <!--button new document and folder-->
    <div class="boxnewdocument" ng-show="usuario.data.admindocs">
        <div class="prueba">
            <p class="textoprueba"> {{document.nombre}} </p>
        </div>

        <div class="pr1">
           <img src="img/icono-documento-n.png" id="btn1" class="botonuno">
        </div>

        <div class="pr2">
            <img src="img/icono-carpeta-n.png" id="btn2" class="botondos">
        </div>
    </div>


    <div class="contac">

        <!--Seleccionar archicos y publicar-->
        <div class="formudoc">

           <form  enctype="multipart/form-data" name="myForm2" style="margin: 0" ng-submit="uploadPic(picFile)">

            <!--<div class="container">-->
                <!--<span class="select-wrapper">-->
                  <!--<input type="file"  ngf-select ng-model="picFile" id="image_src" ngf-multiple="true"  name="file"  ngf-max-size="200MB" required />-->
                <!--</span>-->
            <!--</div>-->

                <i ng-show="myForm.file.$error.maxSize">File too large {{picFile.size / 1000000|number:1}}MB: max {{picFile.$errorParam}}</i>
                <img ng-show="myForm.file.$valid" ngf-src="!picFile.$error && picFile" class="thumb">

                <p class="txtarchivo">Archivos:</p>

                        <div ng-repeat="f in picFile" style="margin-left: 6vw; margin-top: 1vh ">
                            <li >
                                {{f.name}} {{f.$errorParam}}
                            </li>
                          <span class="progress" ng-show="f.progress >= 0">
                            <div style="width:{{f.progress}}%" ng-bind="f.progress + '%'"></div>
                          </span>
                        </div>

                            <li ng-repeat="f in errFiles" style="font:smaller">{{f.name}} {{f.$error}} {{f.$errorParam}}
                            </li>


                {{errorMsg}}

                <!--<md-button type="submit"  class="md-raised"> Publicar </md-button>-->

               <div class="container">
                   <span class="select-wrapper">
                        <input type="file"  ngf-select ng-model="picFile" id="image_src" ngf-multiple="true"  name="file"  ngf-max-size="200MB" required />
                   </span>
               </div>

               <div class="btnpubli">
                   <button  id="blanco" style="width: 5vw; height: 3vh; border: 0;  "> Publicar</button>
               </div>

           </form>


        </div>


        <!--Crear Carpetas-->

        <div class="formucar">
            <form name="myForm" style="margin: 0" ng-submit="CarpenCarp(document._id)">

                <md-input-container class="nombrecarpeta">
                    <label>Nombre de la Carpeta</label>
                    <input type="text" ng-model="nombre" required >
                </md-input-container>


                <div class="btnpubli">
                    <button id="blanco" style="width: 5vw; height: 3vh; border: 0; "> Publicar</button>
                </div>

            </form>
        </div>

    </div>



    <br>

    <!--Titulo de la tabla-->
    <div class="boxpubli documentospc" style="background-color: white">
        <div class="conthead">
            <div class="enlinea tab1" id="tab11"></div>
            <div class="enlinea tab2" id="tab22"> <p>Nombre</p></div>
            <div class="enlinea tab3" id="tab33"> <p>Tamaño</p></div>
            <div class="enlinea tab4" id="tab44"></div>
        </div>

        <div ng-repeat="doc in document.carpetas" style="display:flex">
            <div class="enlinea tab1" ><img src="/img/icono-carpeta.png" class="carpetasdoc"></div><!--
            --><div class="enlinea tab2" style="overflow: hidden;"><p class="mi"><a href="#/root/documents/{{doc._id}}">{{doc.nombre}}</a></p></div><!--
            --><div class="enlinea tab3" ><p class="mi"> -- </p></div><!--
            --><div class="enlinea tab4" >
                <p class="mi">
                    <img ng-click="deletecarpeta(doc)" src="img/iconox.png"style="height: 2vh;margin-left: 35%">
                </p>
            </div>
        </div>

        <!--info de los documentos y carpetas-->
        <div ng-repeat="archivo in document.files" style="display: flex;" ng-class="{'last':$last}">

        <div class="enlinea tab1"><img src="/img/icono-documentos-r.png" class="imageniconosdoc"></div>
            <div class="enlinea tab2"><p class="mi"><a href="{{archivo.adjunto}}"  ng-bind="archivo.nombre | cortarlargostring:true"></a></p></div>
            <div class="enlinea tab3"><p class="mi">{{archivo.tamano}}</p></div>
        <div class="enlinea tab4">
            <p class="mi">
                <img ng-click="deletearchivodocs(archivo)" ng-show="usuario.data.admindocs" src="img/iconox.png"style="height: 2vh;margin-left: 35%">
            </p>

        </div>


        </div>
    </div>


    <!--visualización carpeta para movil -->

    <div class="boxpubli documentosmovil" style="background-color: white">
        <div class="conthead">
            <div class="enlinea tab1" id="tab111"></div>
            <div class="enlinea tab2" id="tab222"> <p>Nombre</p></div>
        </div>

        <div ng-repeat="doc in document.carpetas" style="display:flex">
            <div class="enlinea tab1" ><img src="/img/icono-carpeta.png" class="carpetasdoc"></div><!--
            --><div class="enlinea tab2" style="overflow: hidden;"><p class="mi"><a href="#/root/documents/{{doc._id}}">{{doc.nombre}}</a></p></div><!--
            <!--&ndash;&gt;<div class="enlinea tab3" ><p class="mi"> &#45;&#45; </p></div>&lt;!&ndash;-->
            <!--&ndash;&gt;<div class="enlinea tab4" >-->
                <!--<p class="mi">-->
                    <!--<img ng-click="deletecarpeta(doc)" src="img/iconox.png"style="height: 2vh;margin-left: 35%">-->
                <!--</p>-->
            <!--</div>-->
        </div>

        <!--info de los documentos y carpetas-->
        <div ng-repeat="archivo in document.files" style="display: flex;" ng-class="{'last':$last}">

        <div class="enlinea tab1"><img src="/img/icono-documentos-r.png" class="imageniconosdoc"></div>
            <div class="enlinea tab2"><p class="mi"><a href="{{archivo.adjunto}}"  ng-bind="archivo.nombre | cortarlargostring:true"></a></p></div>
            <!--&lt;!&ndash;<div class="enlinea tab3"><p class="mi">{{archivo.tamano}}</p></div>&ndash;&gt;-->
        <!--<div class="enlinea tab4">-->
            <!--<p class="mi">-->
                <!--<img ng-click="deletearchivodocs(archivo)" ng-show="usuario.data.admindocs" src="img/iconox.png"style="height: 2vh;margin-left: 35%">-->
            <!--</p>-->

        <!--</div>-->


        </div>
    </div>



<script>
    $("#btn1").click(function(){
       $(".formudoc").toggle("slow")
    });
    $("#btn2").click(function(){
       $(".formucar").toggle("slow")
    });
</script>