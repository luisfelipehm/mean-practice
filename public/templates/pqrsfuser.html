<style>
    /*.ng-enter {*/
        /*-webkit-transition: 1s;*/
        /*transition: 1s;*/

        /*margin-left: 100%;*/
    /*}*/

    /*.ng-enter-active {*/
        /*margin-left: 0;*/
    /*}*/

    /*.ng-leave {*/
        /*-webkit-transition: 1s;*/
        /*transition: 1s;*/

        /*margin-left: 0;*/
    /*}*/

    /*.ng-leave-active {*/
        /*margin-left: 100%;*/
    /*}*/

    /*.ng-move {*/
        /*-webkit-transition: 1s;*/
        /*transition: 1s;*/

        /*background: gold;*/
    /*}*/

    /*.ng-move-active {*/
        /*background: #fff;*/
    /*}*/
    .pqnav
    {
        display: inline-block;
        color: #E30613;
        cursor: pointer;
        margin-left: 30%;
    }

    .pqline
    {
        width: 49%;
        display:inline-block;
    }
    .boxformulariopqr
    {
        width: 90%;
        margin-left: 5%;
        margin-top: 2vh;
        position: relative;
        background: #e3e3e3;
        -webkit-box-shadow: 0px 0px 20px 0px rgba(0,0,0,0.19);
        -moz-box-shadow: 0px 0px 20px 0px rgba(0,0,0,0.19);
        box-shadow: 0px 0px 20px 0px rgba(0,0,0,0.19);
    }
    .tx1
    {
        position: relative;
        text-align: right;
        color: black;
        font-size: 3vw;
        font-weight: bold;
        padding-top:5vh;
        margin-right: 5vw;
    }
    .tx2
    {
        position: relative;
        text-align: right;
        color: #575756;
        font-size: 2vw;
        margin-right: 7vw;
    }
    .comilla1
    {
        position: absolute;
        height: 4vh;
        top:4.8vh;
        left:26.5vw;
    }
    .comilla2
    {
        position: absolute;
        height: 3vh;
        top:13vh;
        left:43vw;
    }
    .comillatramite1
    {
        vertical-align:middle;
        height: 3vh;
        top:12vh;
        left:2.5vw;
    }
    .comillatramite2
    {
        vertical-align:middle;
        height: 3vh;
        top:15.5vh;
        left:19.5vw;
    }

    .inftextobli
    {
        margin-left: 5%;
        margin-top: 5%;
        width: 45vw;
    }
    .asterisco
    {
        color: #e3152d;
    }
    .nombreuser
    {
        width: 99%;
        height: 6vh
    }
    .md-select-value .md-select-icon:after
    {
        color: #e3152d;
    }
    .titlepersonales
    {
        font-size: 2vw;
        color: #575756;
        margin-bottom: 3vh;
    }
    .inpt
    {
        border-radius: .3vw .3vw .3vw .3vw;
        border: 0;
        height: 2.5vh;
        width: 12vw;
        margin-left: .5vw;
        font-size: .8vw;
    }
    .adjunta
    {
        display: none;
    }
    md-input-container .md-input
    {
        font-weight: bold;
        font-size: 1vw;
    }
    .md-select-value :first-child
    {
        font-weight: bold;
        font-size: 1vw;
    }
    .listdat
    {
        font-size: .8vw;
    }
    label
    {
        font-size: 1vw;
    }
    .iconadjun
    {
        width: 3vw;
    }
    .tipodepqrsf
    {
        display: inline-block;
        height: 5vh;
        margin-left: 3%;
    }
    .tipodepqrsf2
    {
        display: inline-block;
        height: 6vh;
        margin-left: 20%;
    }
    .fechas
    {
        display: inline-block;
        width: 35vw;
        margin-left: 2%;
    }
    .estadopqrs
    {
        display: inline-block;
        height: 6vh;
        margin-left: 3%;
    }
    .tittlemypqrs
    {
        font-weight:bold;
        font-size: 1.1vw;
        margin-bottom: 2%;
        margin-top: 0;
    }
    .fpqrs
    {
        font-size: 1vw;
        margin-top: 0;
        margin-bottom: 0;
    }
    .barracorespon
    {
        width: 32%;
        display: inline-block;
        text-align: left;
    }
    .textcorrespo
    {
        color: #e3152d;
        text-align: center;
    }
    .cajabuscador
    {
        width: 90%;
        margin-left: 5%;
    }
    .btnbuscar
    {
        width: 6vw;
        height: 3.2vh;
        vertical-align: -60%;
        margin-left: 10%;
    }
    .buscador
    {
        width: 20vw;
        padding: 8px 8px 8px 40px;
        border-radius: .3vw .3vw .3vw .3vw;
        border: 0;
    }
    .titlerespon
    {
        font-weight: bold;
        font-size: 1.1vw;
        margin-bottom: 0;
    }
    md-checkbox.md-checked.red .md-icon {
        background-color: rgba(227, 6, 19, 1);
    }
    .cajaredirije
    {
        margin-left: 5%;
        width: 90%;

    }
    .imgredirige
    {
        margin-left: 4vw;
        width: 4vw;
    }
    .txtpqrsf
    {
        color: #e3152d;
        font-size: 1.5vw;
        font-weight: bold;
    }
    .btnenviarediri
    {
        width: 6vw;
        margin-bottom: 3vh;
        border-radius:.4vw;
        margin-left: 88%;
        opacity: 0.7;
    }
    .btnenviarediri:hover
    {
        opacity: 1;
    }
    .boxbrnrenvi
    {
        width: 90%;
        margin-left: 5%;
        opacity: .7;
        cursor: pointer;

    }
    .boxbrnrenvi:hover
    {
        opacity: 1;
    }

    /* ESTILO DEL MODAL*/
    .modal1
    {
        background: rgba(29, 29, 25, .7);
        width: 100vw;
        height: 100vh;
        position: fixed;
        top: 0;
        left: 0;
    }
    .cerrar
    {
        background: #c11727;
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 20px ;
        text-align: center;
        position: absolute;
        right: -20px;
        top: -20px;
    }
    .cerrar > p
    {
        font-size: 22px;
        text-align: center;
        margin: 0;
    }
    .boxmodal
    {
        position: absolute;
        border: solid #ededed;
        background: #ededed;
        width: 40vw;
        height: 70vh;
        margin: auto;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        border-radius: 10px;
    }
    .mbt1
    {

    }
    .pt1
    {
        color: #c11727;
        font-size: 2.8vw;
        font-weight: 400;
        margin: 5% 0 0 15%;
        width: 70%;

    }
    .pt2
    {
        color: #3c3c3b;
        font-size: 3.8vw;
        font-weight: bold;
        margin: 0 0 0 15%;
        width: 70%;

    }
    .pt3
    {
        color: #c11727;
        font-size: 1.8vw;
        font-weight: bold;
        width: 70%;
        margin: 5% 0 5% 16%;
    }
    .lispq
    {
        width: 80%;
        margin-left: 10%;
        margin-right:0;
        margin-bottom: 3%;
        border-bottom: solid grey 1px;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;

    }
    .selection
    {
        text-align: center;
        margin-top: 0;
        margin-bottom: 0;
    }

    .scroll
    {
        overflow-y: scroll;
        height: 38%;
        width:92%;
    }
    .boxscroll::-webkit-scrollbar
    {
        width: 4px;
    }

    .boxscroll::-webkit-scrollbar-track
    {
        border-radius: 10px;
        background-color: grey;
    }

    .boxscroll::-webkit-scrollbar-thumb
    {
        border-radius: 10px;
        background-color: #c11727;
    }
    .boxbotnenvipq
    {
        position: relative;
        margin-top: 9%;
        width: 82%;
        margin-left:10%;
    }
    .btnenpg
    {
        width: 6vw;
        float: right;
    }


</style>

    <!--BARRA SUPERIOR PQRS-->
    <div class="boxpqnav">
        <div class="pqline"><h2 class="pqnav" ng-click="mispq = false">Nueva PQRSF</h2></div>
        <div class="pqline"><h2 class="pqnav" ng-click="mispq = true">Mis PQRSF</h2></div>
    </div>


    <!--MIS PQRS-->
    <div ng-init="mispq = true" ng-show="mispq" style="margin-top: 2vh">
        <div ng-repeat="pq in pqrsf | orderBy: '-'" class="boxpubli boxpublipqrs">
            <div> <img style="width: 1.5vh;margin-top: 0.5vh; margin-left: 97% " src="/img/icono-eliminar-g.png"></div>
            <img class="tipodepqrsf" ng-if="pq.tipopq == 'Peticion'" src="/img/peticion.png">
            <img class="tipodepqrsf" ng-if="pq.tipopq == 'Solicitud'" src="/img/solicitud.png">
            <img class="tipodepqrsf" ng-if="pq.tipopq == 'Felicitacion'" src="/img/felicitacion.png">
            <img class="tipodepqrsf" ng-if="pq.tipopq == 'Reclamo'" src="/img/reclamo.png">
            <img class="tipodepqrsf" ng-if="pq.tipopq == 'Queja'" src="/img/queja.png">
            <div class="fechas">
                <p class="tittlemypqrs">{{pq.tipopq}} {{pq.enumeracion}}</p>
                <p class="fpqrs">Fecha de recibido: {{pq.fechainicio | moment:'DD'}} de {{pq.fechainicio | moment:'MMMM'}} {{pq.fechainicio | moment:'YYYY'}}</p>
                <p class="fpqrs" style="margin-bottom: 3vh">Fecha de cierre: {{ !pq.fechacierre ? '--/--/--' : (pq.fechacierre | moment:'DD') + ' de ' +  (pq.fechainicio | moment:'MMMM') + ' ' + (pq.fechainicio | moment:'YYYY')}}</p>
            </div>
            <img class="estadopqrs" ng-if="pq.estado == 'En espera'" src="/img/espera.png">
            <img class="estadopqrs" ng-if="pq.estado == 'En tramite'" src="/img/tramite.png">
            <img class="estadopqrs" ng-if="pq.estado == 'Cerrado'" src="/img/cerrado.png">
            <div style="margin-left: 6vw;margin-bottom: 2vh;color: #e3152d; " ng-click="editing = true">ver mas</div>
            <div  ng-show="editing">


                <div style="margin-left: 5%; width: 90%">

                    <div style="width: 100%; border: solid #a5a5a4 .1vw"></div>
                    <!--TITULO-->
                    <div style="margin-top: 2vh">
                        <img class="comillatramite1" src="/img/icono-comillas1.png">
                        <span style=" font-size: 2.5vw; font-weight: bold;">{{pq.tipopq}} </span>
                        <img class="comillatramite2" src="/img/icono-comillas2.png">
                    </div>
                    <!--DESCRIPCION PEQUEÑA-->
                    <p>El dia <b>{{pq.fechainicio | moment:'DD'}} de {{pq.fechainicio | moment:'MMMM'}} {{pq.fechainicio | moment:'YYYY'}}</b> yo <b>{{pq.nombre}}</b> identificado con C.C. No. <b>{{pq.ndocumento}}</b> hago parte de <b>{{pq.empresa}}</b> con el cargo
                        de <b>{{pq.cargo}}</b> ciudad <b>{{pq.ciudad2}}</b> presento una <b>{{pq.tipopq}}</b></p>
                    <!--EL COMENTARIO-->
                    <p style="text-align: justify">{{pq.comentario}}</p>
                    <h1 style="margin-bottom: 0; margin-bottom: 1vh">Datos Personales</h1>

                    <div style="position:relative;width: 100%">

                        <div style=" display: inline-block">
                            <p style="margin-bottom: 0; margin-top: 0;">{{pq.celular}} </p>
                            <p style="margin-top: 0; font-weight: bold;">{{pq.email}}</p>
                        </div>

                       <a target="_blank" id="cambioimagen{{$index}}"> <img  id="imgchange{{$index}}" style=" width: 4vw;position: absolute; top:0; left: 70%" src="/img/icono-fomulario.png"> </a>
                        <p style="position: absolute; top: 0vh; margin: 0; left: 80%; " >Adjunto:</p>
                        <p style="position: absolute; top: 0vh; margin: 0; left: 80%; top: 35%" >Por el Solicitante</p>
                        <p style="position: absolute; top: 0vh; margin: 0; left: 80%; top: 69%" >Adobe Pdf</p>

                    </div>

                    <div style="position: relative; display: inline-block; margin-top: 3vh; margin-left: 31vw">
                        <div style="margin-left: .5vw;display: inline-block;cursor: pointer" ng-repeat="f in pq.files" ng-if="f.fase == 1" >
                            <div ng-click="cambiarArchivo($parent.$parent.$index, f.adjunto)" style="width: 10px;height: 10px; display: inline-block;background-color: #E30613;" >

                            </div>
                        </div>
                    </div>

                    <div style="width: 50%; border: solid #a5a5a4 .1vw; margin-top: 2vh"></div>

                    <div>
                        <span style="font-size: 2vw;">Proceso</span>
                        <img style="width: 2vw; vertical-align:middle;margin-left: 33.5vw" src="/img/adjunto_rojo.png">
                    </div>

                    <div style="position: relative"  ng-repeat="cm in pq.comentarios">

                        <img style=" width: 1.5vw; vertical-align:middle;" src="/img/chat-conectado.png">
                        <span style="font-size: 1.7vw; margin-bottom: 0;">{{cm.u}}  </span>
                        <p style="font-size: 1vw;margin-left: 1.8vw;word-wrap: break-word; border-right: solid #575756 .1vw;width: 85%">{{cm.c}}</p>

                        <a ng-repeat="f in pq.files" ng-if="f.fase == cm.f" href="{{f.adjunto}}"> <img style=" width: 1.5vw; position: absolute;top: 5vh; left: 92.5%" src="/img/icono-fomulario.png"></a>
                    </div>


                    <form enctype="multipart/form-data" name="myForm" ng-submit="addCiclo(pq.picFile,pq.newcomentario,pq._id,pq.fase,pq.newresponsable,'En tramite','nada');editing = false;">

                        <div style="margin-top:3vh">
                            <textarea ng-model="pq.newcomentario" style="width: 44vw;height: 12vh;padding: 10px; border-radius: .5vw .5vw .5vw .5vw;resize: none; " placeholder="Observacion..."></textarea>
                        </div>


                        <div style="margin-left: 50%">
                            <div ng-repeat="f in pq.picFile" style="display:inline-block;position: relative;margin-bottom: 2%;">
                                <div style="width: 10px;height: 10px;background-color: #E30613;margin-top: 1vh; margin-right: 1vw "></div> {{f.$errorParam}}
                            </div>
                        </div>

                        <div style="margin-top: 1vh;padding-bottom: 3vh">

                            <div style="display: inline-block; margin-left: 30vw">
                                <label for="file-inputtramite{{$index}}">
                                    <img  class="iconadjun" style="vertical-align: -1vh" src="/img/iconoadjdoc.jpg">
                                </label>
                                <input type="file"  class="adjunta"   ngf-select ng-model="pq.picFile"  id="file-inputtramite{{$index}}"    ngf-multiple="true"  name="file" accept="image/*" ngf-max-size="200MB"  />
                            </div>



                            <div style="display: inline-block">
                                <input type="image" src="/img/botones-enviar.png" style="width: 8vw; vertical-align: -1vh">
                                <!--<md-button type="submit"  class="md-raised"> Redirigir </md-button>-->
                            </div>
                        </div>



                        <i ng-show="myForm.file.$error.maxSize">File too large {{pq.picFile.size / 1000000|number:1}}MB: max {{pq.picFile.$errorParam}}</i>
                        <img ng-show="myForm.file.$valid" ngf-src="!pq.picFile.$error && pq.picFile" class="thumb">

                        {{errorMsg}}

                        <!--<input type="text" ng-model="bodyc.val">-->
                    </form>
                </div>

            </div>
        </div>

    </div>

    <!--FORMULARIO CREAR PQRS-->

    <div class="boxformulariopqr" ng-show="mispq == false">
        <form name="myForm2" ng-submit="uploadPic(picFile)">
            <img class="comilla1" src="/img/icono-comillas1.png">
            <div class="tx1">Formulario</div>
            <div class="tx2">PQRSF</div>
            <img class="comilla2" src="/img/icono-comillas2.png">

            <div class="inftextobli"> <label>Los campos con aspectos (*) son campos que se deben llenar obligatoriamente.</label>

                <div class="nombreuser"> <label style="vertical-align: 40%">Al día {{ fechaxxx | moment:'DD'}} de {{   fechaxxx | moment:'MMMM' }} {{ fechaxxx | moment:'YYYY'}} Yo </label> <span class="asterisco">*</span>
                    <md-input-container style="width: 29.8vw; height: auto">
                        <label></label>
                        <input type="text" ng-model="nombre" placeholder="Nombres y Apellidos">
                    </md-input-container>
                </div>
                <br>
                <br>

                <div>
                    <label style="vertical-align: 0">Identificado con </label> <span class="asterisco">*</span>
                    <md-input-container style="vertical-align: 30%;margin-bottom: 0; margin-top: 0;">
                        <md-select placeholder="Tipo Documento" ng-model="tdocumento" style="width: 15vw">
                            <md-option ng-repeat="tipos in tdocumentos" value="{{tipos.nombre}}">
                                {{tipos.nombre}}
                            </md-option>
                        </md-select>
                    </md-input-container>
                    <label> No. <span class="asterisco">*</span> </label>
                    <!--&lt;!&ndash;{{ciudad}}&ndash;&gt;-->
                    <md-input-container style="margin-bottom: 0; margin-top: 0; height: 4.5vh;width: 18vw">
                        <label></label>
                        <input type="text" ng-model="ndocumento" placeholder="Documento">
                    </md-input-container>
                </div>

                <div>
                    <label>hago parte de la empresa </label><span class="asterisco">*</span>
                    <md-input-container style="margin-bottom: 0; margin-top: 0; height: 4.5vh;width: 12vw">
                        <label></label>
                        <input type="text" ng-model="empresa" placeholder="Empresa">
                    </md-input-container>
                    <label>en el cargo de <span class="asterisco">*</span></label>
                    <md-input-container style="margin-bottom: 0; margin-top: 0; height: 4.5vh;width: 11.5vw">
                        <label></label>
                        <input type="text" ng-model="cargo" placeholder="Cargo">
                    </md-input-container>,
                </div>
                <div>
                    <label>en la Ciudad de <span class="asterisco">*</span></label>
                    <md-input-container style="margin-bottom: 0; margin-top: 0; height: 4.5vh;width: 15vw">
                        <label></label>
                        <input type="text" ng-model="ciudad2" placeholder="ciudad">
                    </md-input-container>
                    <label>presento</label><span class="asterisco">*</span>
                    <md-input-container style="vertical-align: 30%;margin-bottom: 0; margin-top: 0;">
                        <md-select  placeholder="PQRSF" ng-model="tipopq" style="width: 8vw" required>
                            <md-option ng-repeat="t in tipospq" value="{{t.nombre}}" required>
                                {{t.nombre}}
                            </md-option>
                        </md-select>
                    </md-input-container>
                </div>

                <div style="margin-top:3vh">
                    <textarea style="width: 44vw; border-radius: .5vw .5vw .5vw .5vw;resize: none; " ng-model="comentario"  rows="5"  placeholder="Comentarios..."></textarea>
                </div>

                <div style="margin-top: 1vh;position: relative;">
                    <div style="position: absolute; top:0;right: 15px">
                        <img style="height: 7.5vh"  ng-src="{{!picFile ? '/img/icono-fomulario.png' : iconoSubidaDocumentoPq(picFile)}}">
                    </div>
                    <div style="width: 8vw;position: absolute;top: 0vh; right:60px">
                        <p style="margin: 0; font-weight: bold; font-size: .8vw;color: #575756">Adjunto:</p>
                        <p style="margin: 0; font-size: .7vw;color: #575756">Por el solicitante</p>
                        <p style="margin: 0; font-size: .7vw;color: #575756">{{picFile[0].name}}</p>
                        <p style="margin: 0; font-size: .7vw;color: #575756">{{picFile[0].size * .001 + "KB"}}</p>
                    </div>
                    <p class="titlepersonales">Datos Personales</p>
                    <p class="listdat">Correo Personal <input class="inpt" type="text" ng-model="email" > </p>
                    <p class="listdat">Celular/Teléfono <input class="inpt" type="text" ng-model="celular"> </p>
                    <p class="listdat">Dirección <input style="margin-left: 3vw" class="inpt" type="text" ng-model="direccion"> </p>
                </div>

                <div style="margin-left: 32vw; margin-top: -4vh; margin-bottom: 1vh">
                    <div ng-repeat="f in picFile" style="display:inline-block;position: relative;margin-bottom: 2%;">
                        <div style="width: 10px;height: 10px;background-color: #E30613;margin-top: 1vh; margin-right: 1vw "></div> {{f.$errorParam}}
                        <!--<li ng-repeat="f in picFile" style="font:smaller">{{f.name}} {{f.$errorParam}}-->
                        <!--<span class="progress" ng-show="f.progress >= 0">-->
                        <!--<div style="width:{{f.progress}}%"-->
                        <!--ng-bind="f.progress + '%'"></div>-->
                        <!--</span>-->
                    </div>
                </div>


                <!--<li ng-repeat="f in errFiles" style="font:smaller">{{f.name}} {{f.$error}} {{f.$errorParam}}-->
                <!--</li>-->

                <div style="position: relative; left: 70%;width: 12vw;" >
                    <label for="file-input">
                        <img class="iconadjun" src="/img/iconoadjdoc.jpg">
                    </label>
                    <input type="file" class="adjunta" ngf-select ng-model="picFile"  id="file-input" ngf-multiple="true"  name="file" ngf-max-size="200MB" required />
                    <!--BOTON ENVIAR-->
                    <input type="image" src="/img/botones-enviar.png" style="width: 6.8vw; margin-left: 6%" >  </input>
                </div>


                <i ng-show="myForm.file.$error.maxSize">File too large {{picFile.size / 1000000|number:1}}MB: max {{picFile.$errorParam}}</i>
                <img ng-show="myForm.file.$valid" ngf-src="!picFile.$error && picFile" class="thumb">

                <br>

                {{errorMsg}}

            </div>

        </form>
    </div>

<div class="modal1">
    <div class="boxmodal">
        <div class="cerrar"><p>x</p></div>
        <div style=" width: 80%;margin-left: 10%;margin-top: 8%">
            <div class="mbt1">
                <p class="pt1">Redireccionamiento</p>
            </div>
            <div class="mbt1" style="margin-top: -15px;">
                <p class="pt2">Solicitud</p>
            </div>
            <div class="mbt1">
                <p class="pt3">Área Encargada</p>
            </div>
            <div class="scroll boxscroll">
               <div class="lispq">
                   <p class="selection">Example </p>
               </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
                <div class="lispq">
                    <p class="selection">Example </p>
                </div>
            </div>
            <div class="boxbotnenvipq">
                <img  class="btnenpg" src="/img/botones-enviar.png" alt="">
            </div>
        </div>
    </div>
</div>
